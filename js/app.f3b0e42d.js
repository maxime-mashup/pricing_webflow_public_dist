(function(e){function s(s){for(var a,o,i=s[0],c=s[1],l=s[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(s);while(d.length)d.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,s=0;s<n.length;s++){for(var t=n[s],a=!0,i=1;i<t.length;i++){var c=t[i];0!==r[c]&&(a=!1)}a&&(n.splice(s--,1),e=o(o.s=t[0]))}return e}var a={},r={app:0},n=[];function o(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,s,t){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(1&s&&(e=o(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)o.d(t,a,function(s){return e[s]}.bind(null,a));return t},o.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="https://cdn.jsdelivr.net/gh/maxime-mashup/pricing_webflow_public_dist@main/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=s,i=i.slice();for(var l=0;l<i.length;l++)s(i[l]);var u=c;n.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},1192:function(e,s,t){},"29c4":function(e,s,t){"use strict";t("2ed2")},"2ed2":function(e,s,t){},"56d7":function(e,s,t){"use strict";t.r(s);var a=t("2b0e"),r=function(){var e=this,s=e._self._c;return s("main",{staticClass:"container"},[s("section",{attrs:{id:"configurator"}},[s("header",{staticClass:"header"},[s("h1",[e._v("Simulation tarifaire")]),s("p",{staticClass:"subtitle"},[e._v("Estimez votre offre Mashup Web Social")]),s("PeriodSelector",{attrs:{"selected-period":e.pricingState.period},on:{"period-change":e.onPeriodChange}})],1),s("div",{staticClass:"sliders-container"},e._l(e.sliderControls,(function(t){return s("ControlSlider",{key:t.key,attrs:{label:t.label,icon:t.icon,value:e.pricingState[t.key],"scale-name":t.scale,"unique-id":t.key},on:{input:function(s){return e.onValueChange(t.key,s)}}})})),1)]),s("ResultCard",{attrs:{result:e.selectedPlan,environment:e.environment}})],1)},n=[];const o={BASIC:"basic",ADVANCED:"advanced"},i={WEBFLOW:"webflow",SAAS:"saas"},c={mode:o.BASIC,environment:i.SAAS},l={MONTHLY:"mensuel",ONE_YEAR:"1an",TWO_YEARS:"2ans"},u={[l.MONTHLY]:1,[l.ONE_YEAR]:10,[l.TWO_YEARS]:18},p={[l.ONE_YEAR]:2,[l.TWO_YEARS]:6},d={[l.ONE_YEAR]:"2 mois OFFERTS",[l.TWO_YEARS]:"6 mois OFFERTS"},m=[{value:l.MONTHLY,label:"Mensuel"},{value:l.ONE_YEAR,label:"1 an"},{value:l.TWO_YEARS,label:"2 ans"}],f={[o.BASIC]:{socialAccounts:10,users:10,sources:10},[o.ADVANCED]:{socialAccounts:1,users:1,sources:1}};const h={social:40,users:20,sources:20},v=200;const S=[{id:"freelance",name:"Freelance",priceMonthly:80,priceYearly:800,maxSocialAccounts:5,maxUsers:1,maxSources:5,features:{native:!1,planification:!1,moderation:!1,reporting:!1,collaboration:!1}},{id:"starter",name:"Starter",priceMonthly:170,priceYearly:1700,maxSocialAccounts:10,maxUsers:10,maxSources:10,features:{native:!0,planification:!0,moderation:!0,reporting:!0,collaboration:!0}},{id:"standard",name:"Standard",priceMonthly:270,priceYearly:2700,maxSocialAccounts:60,maxUsers:50,maxSources:60,features:{native:!0,planification:!0,moderation:!0,reporting:!0,collaboration:!0}},{id:"premium",name:"Premium",priceMonthly:600,priceYearly:6e3,maxSocialAccounts:250,maxUsers:200,maxSources:250,features:{native:!0,planification:!0,moderation:!0,reporting:!0,collaboration:!0}},{id:"custom",name:"Contactez-nous",priceMonthly:null,priceYearly:null,maxSocialAccounts:251,maxUsers:201,maxSources:251,features:{native:!0,planification:!0,moderation:!0,reporting:!0,collaboration:!0}}],b=S.filter(e=>"freelance"!==e.id),C={native:"Connection Native",planification:"Planifier vos publications",moderation:"Modération de vos réseaux",reporting:"Reporting de performances",collaboration:"Collaborer avec votre équipe"};const _={SOCIAL_ACCOUNTS:251,USERS:201,SOURCES:251};function g(e){return e.socialAccounts===_.SOCIAL_ACCOUNTS||e.users===_.USERS||e.sources===_.SOURCES}function x(){function e(e){let s=null,t=0,a="/mois",r=!1,n=null,o=null;if(g(e)){const s=S.find(e=>"custom"===e.id);return{plan:s,finalPrice:0,priceLabel:"",savingsBadge:null,offerText:null,displayValues:{socialAccounts:e.socialAccounts,users:e.users,sources:e.sources},extraCosts:{social:null,users:null,sources:null},isCustomPlan:!0,features:s.features,period:e.period}}const i=S.filter(e=>"custom"!==e.id);if(e.period===l.MONTHLY)s=i.find(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources),s||(s=i[i.length-1]),t=s.priceMonthly,a="/mois";else{a="";const c=u[e.period];let m=i.findIndex(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources);-1===m&&(m=i.length-1);const f=i[m];if(0===m)s=f,t=f.priceMonthly*c;else{const a=i[m-1],n=f.priceMonthly*c,o=Math.max(0,e.socialAccounts-a.maxSocialAccounts),l=Math.max(0,e.users-a.maxUsers),u=Math.max(0,e.sources-a.maxSources),p=o*h.social+l*h.users+u*h.sources,d=a.priceMonthly*c+p,S="freelance"===a.id&&e.socialAccounts>=f.maxSocialAccounts&&e.users>=f.maxUsers&&e.sources>=f.maxSources;!S&&d<=n-v?(s=a,t=d,r=!0):(s=f,t=n,r=!1)}e.period===l.ONE_YEAR?(n=`Économisez ${s.priceMonthly*p[l.ONE_YEAR]}€ HT`,o=d[l.ONE_YEAR]):(n=`Économisez ${s.priceMonthly*p[l.TWO_YEARS]}€ HT`,o=d[l.TWO_YEARS])}const c={socialAccounts:Math.max(s.maxSocialAccounts,e.socialAccounts),users:Math.max(s.maxUsers,e.users),sources:Math.max(s.maxSources,e.sources)},m={social:null,users:null,sources:null};return e.period!==l.MONTHLY&&(r?(e.socialAccounts>s.maxSocialAccounts&&(m.social=` (+${h.social}€/page)`),e.users>s.maxUsers&&(m.users=` (+${h.users}€/user)`),e.sources>s.maxSources&&(m.sources=` (+${h.sources}€/source)`)):(m.social=` (+${h.social}€/page)`,m.users=` (+${h.users}€/user)`,m.sources=` (+${h.sources}€/source)`)),{plan:s,finalPrice:Math.round(t),priceLabel:a,savingsBadge:n,offerText:o,displayValues:c,extraCosts:m,isCustomPlan:r,features:s.features,period:e.period}}return{calculatePlan:e}}function y(){function e(e){const s=b;if(g(e)){const t=s.find(e=>"custom"===e.id);return{plan:t,finalPrice:0,priceLabel:"",savingsBadge:null,offerText:null,displayValues:{socialAccounts:e.socialAccounts,users:e.users,sources:e.sources},extraCosts:{social:null,users:null,sources:null},isCustomPlan:!0,features:t.features,period:e.period}}const t=s.filter(e=>"custom"!==e.id);let a=t.find(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources);a||(a=t[t.length-1]);let r=0,n="/mois",o=null,i=null;switch(e.period){case l.MONTHLY:r=a.priceMonthly,n="/mois";break;case l.ONE_YEAR:r=a.priceMonthly*u[l.ONE_YEAR],n="",o=`Économisez ${a.priceMonthly*p[l.ONE_YEAR]}€ HT`,i=d[l.ONE_YEAR];break;case l.TWO_YEARS:r=a.priceMonthly*u[l.TWO_YEARS],n="",o=`Économisez ${a.priceMonthly*p[l.TWO_YEARS]}€ HT`,i=d[l.TWO_YEARS];break}return{plan:a,finalPrice:Math.round(r),priceLabel:n,savingsBadge:o,offerText:i,displayValues:{socialAccounts:a.maxSocialAccounts,users:a.maxUsers,sources:a.maxSources},extraCosts:{social:null,users:null,sources:null},isCustomPlan:!1,features:a.features,period:e.period}}return{calculatePlan:e}}var A=function(){var e=this,s=e._self._c;return s("div",{staticClass:"control-group"},[s("label",{attrs:{for:e.inputId}},[s("img",{staticClass:"icon",attrs:{src:e.icon,alt:e.label+" icon"}}),e._v(" "+e._s(e.label)+" ")]),s("div",{staticClass:"slider-wrapper"},[s("input",{staticClass:"slider",style:e.sliderStyles,attrs:{id:e.sliderId,type:"range",min:e.SLIDER_CONFIG.MIN_PERCENT,max:e.SLIDER_CONFIG.MAX_PERCENT,step:e.SLIDER_CONFIG.STEP},domProps:{value:e.sliderValue},on:{input:e.onSliderInput}}),s("input",{staticClass:"number-input",attrs:{id:e.inputId,type:e.isCustomValue?"text":"number",min:e.minValue,max:e.maxValue,readonly:e.isCustomValue},domProps:{value:e.displayValue},on:{input:e.onInputChange}})])])},E=[];const O={social:[[0,1],[50,20],[75,60],[100,250],[105,251]],users:[[0,1],[50,20],[75,60],[100,200],[105,201]],sources:[[0,1],[50,20],[75,60],[100,250],[105,251]]};function N(e,s){const t=O[s];for(let a=0;a<t.length-1;a++){const[s,r]=t[a],[n,o]=t[a+1];if(e>=s&&e<=n){const t=(e-s)/(n-s);return Math.round(r+t*(o-r))}}return t[t.length-1][1]}function M(e,s){const t=O[s];for(let a=0;a<t.length-1;a++){const[s,r]=t[a],[n,o]=t[a+1];if(e>=r&&e<=o){const t=(e-r)/(o-r);return s+t*(n-s)}}return 100}const T={MIN_PERCENT:0,MAX_PERCENT:105,STEP:.1,VISUAL_MAX_PERCENT:100};function P(e){const s={[_.SOCIAL_ACCOUNTS]:"+",[_.USERS]:"+"};return s[e]||e}function R(e){return e===_.SOCIAL_ACCOUNTS||e===_.USERS}var w={name:"ControlSlider",props:{label:{type:String,required:!0},icon:{type:String,required:!0},value:{type:Number,required:!0},scaleName:{type:String,required:!0,validator:e=>Object.keys(O).includes(e)},uniqueId:{type:String,default:null}},data(){return{SLIDER_CONFIG:T}},computed:{scale(){return O[this.scaleName]},minValue(){return this.scale[0][1]},maxValue(){return this.scale[this.scale.length-1][1]},sliderValue(){return M(this.value,this.scaleName)},sliderStyles(){const e=this.sliderValue,s=e/T.MAX_PERCENT*T.VISUAL_MAX_PERCENT;return{"--progress-percentage":s+"%"}},sliderId(){return this.uniqueId?`${this.scaleName}-slider-${this.uniqueId}`:this.scaleName+"-slider"},inputId(){return this.uniqueId?`${this.scaleName}-value-${this.uniqueId}`:this.scaleName+"-value"},isCustomValue(){return R(this.value)},displayValue(){return P(this.value)}},methods:{onSliderInput(e){const s=parseFloat(e.target.value),t=N(s,this.scaleName);this.$emit("input",t)},onInputChange(e){let s=parseInt(e.target.value)||0;s<this.minValue&&(s=this.minValue),s>this.maxValue&&(s=this.maxValue),this.$emit("input",s)}}},I=w,Y=(t("83ea"),t("2877")),V=Object(Y["a"])(I,A,E,!1,null,"7ea779a7",null),j=V.exports,k=function(){var e=this,s=e._self._c;return s("div",{staticClass:"period-selector"},e._l(e.periodOptions,(function(t){return s("button",{key:t.value,staticClass:"period-btn",class:{active:e.selectedPeriod===t.value},on:{click:function(s){return e.onPeriodClick(t.value)}}},[e._v(" "+e._s(t.label)+" ")])})),0)},L=[],U={name:"PeriodSelector",props:{selectedPeriod:{type:String,default:l.MONTHLY,validator:e=>Object.values(l).includes(e)}},data(){return{periodOptions:m}},methods:{onPeriodClick(e){e!==this.selectedPeriod&&this.$emit("period-change",e)}}},$=U,q=(t("ee2c"),Object(Y["a"])($,k,L,!1,null,"175b74ba",null)),H=q.exports,W=function(){var e=this,s=e._self._c;return s("aside",{attrs:{id:"result-card"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Votre sélection")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"plan-header"},[s("h2",[e._v(e._s(e.result.plan.name))]),s("div",{staticClass:"offer-container"},[e.result.savingsBadge?s("span",{staticClass:"savings-badge"},[e._v(" "+e._s(e.result.offerText)+" ")]):e._e(),e.result.offerText?s("span",{staticClass:"offer-text"},[e._v(" "+e._s(e.result.savingsBadge)+" ")]):e._e()])]),"custom"!==e.result.plan.id?s("div",{staticClass:"price-display"},[s("span",{staticClass:"price"},[e._v(e._s(e.formattedPrice)+"€ "),s("sup",[e._v("HT")])]),s("span",{staticClass:"period"},[e._v(" "+e._s(e.result.priceLabel))])]):s("div",{staticClass:"contact-display"},[s("span",{staticClass:"contact-text"},[e._v(" Vous avez besoin de plus de pages, d'utilisateurs ou de sources ? ")]),s("span",{staticClass:"contact-text"},[e._v(" Nous pouvons vous proposer un plan personnalisé. ")])]),"custom"!==e.result.plan.id?s("ul",{staticClass:"features-list"},[s("li",[e._v(" Jusqu'à "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.socialAccounts))]),e._v(" pages connectées "),e.result.extraCosts.social?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.social)+" ")]):e._e()]),s("li",[e._v(" Jusqu'à "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.users))]),e._v(" utilisateurs "),e.result.extraCosts.users?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.users)+" ")]):e._e()]),s("li",[e._v(" Poster depuis "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.sources))]),e._v(" sources "),e.result.extraCosts.sources?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.sources)+" ")]):e._e()]),e._l(e.featureKeys,(function(t,a){return s("li",{key:a,class:{"not-included":!e.result.features[t]}},[e._v(" "+e._s(e.featureLabels[t])+" ")])}))],2):e._e(),s("button",{staticClass:"cta-btn",on:{click:function(s){"custom"===e.result.plan.id?e.openChat():e.redirectToSaaS()}}},[e._v(" "+e._s("custom"===e.result.plan.id?"Nous contacter":"Choisir ce plan")+" ")])])])])},F=[],B={name:"ResultCard",props:{result:{type:Object,required:!0,validator:e=>e&&"object"===typeof e&&e.plan&&"number"===typeof e.finalPrice&&"string"===typeof e.priceLabel&&e.displayValues&&"object"===typeof e.features},environment:{type:String,required:!0,validator:e=>Object.values(i).includes(e)}},data(){return{ENVIRONMENTS:i,featureLabels:C,featureKeys:["native","planification","moderation","reporting","collaboration"]}},computed:{formattedPrice(){return this.result.finalPrice.toLocaleString("fr-FR")}},methods:{redirectToSaaS(){const e=this.result.plan.id,s=this.result.period,t=`https://saas.mashup-web.com/#/?plan=${e}&period=${s}`;window.location.href=t},openChat(){const e="Bonjour, je souhaite être contacté pour une offre sur mesure.";switch(this.environment){case i.WEBFLOW:window.HubSpotConversations&&window.HubSpotConversations.widget?(window.HubSpotConversations.widget.open(),setTimeout(()=>{const s=document.querySelector("#hubspot-messages-iframe-container iframe");if(s&&s.contentDocument){const t=s.contentDocument.querySelector('textarea, input[type="text"]');t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})))}},500)):console.warn("HubSpot chat not available");break;case i.SAAS:window.$crisp?(window.$crisp.push(["do","chat:open"]),window.$crisp.push(["set","message:text",[e]])):console.warn("Crisp chat not available");break;default:console.error("Unknown environment: "+this.environment)}}}},D=B,z=(t("a399"),Object(Y["a"])(D,W,F,!1,null,"6b519d10",null)),X=z.exports,G=t("a469"),J=t.n(G),K=t("fef1"),Q=t.n(K),Z=t("ae73"),ee=t.n(Z),se={name:"PricingCalculator",components:{PeriodSelector:H,ControlSlider:j,ResultCard:X},props:{mode:{type:String,default:c.mode,validator:e=>Object.values(o).includes(e)},environment:{type:String,default:c.environment,validator:e=>Object.values(i).includes(e)}},data(){return{pricingState:{period:l.ONE_YEAR,socialAccounts:10,users:10,sources:10},sliderControls:[{key:"socialAccounts",label:"Nombre de comptes sociaux (pages)",icon:J.a,scale:"social"},{key:"users",label:"Nombre d'utilisateurs",icon:ee.a,scale:"users"},{key:"sources",label:"Nombre de sources",icon:Q.a,scale:"sources"}]}},computed:{pricingMode(){return this.mode},pricingCalculator(){return this.pricingMode===o.ADVANCED?x():y()},selectedPlan(){return this.pricingCalculator.calculatePlan(this.pricingState)}},methods:{onPeriodChange(e){this.pricingState.period=e},onValueChange(e,s){this.pricingState[e]=s},switchPricingMode(e){if(Object.values(o).includes(e)){const s=f[e];Object.keys(s).forEach(e=>{this.pricingState[e]=s[e]}),this.$emit("mode-change",e)}}},mounted(){const e=f[this.pricingMode];e&&Object.keys(e).forEach(s=>{this.pricingState[s]=e[s]})},watch:{mode:{handler(e){const s=f[e];s&&Object.keys(s).forEach(e=>{this.state[e]=s[e]})},immediate:!1}}},te=se,ae=(t("29c4"),Object(Y["a"])(te,r,n,!1,null,"3bcf8354",null)),re=ae.exports;t("1192"),t("cf1e");a["a"].config.productionTip=!1;const ne="basic",oe="webflow";new a["a"]({render:e=>e(re,{props:{mode:ne,environment:oe}})}).$mount("#app")},"70dc":function(e,s,t){},"83ea":function(e,s,t){"use strict";t("b7aa")},a399:function(e,s,t){"use strict";t("70dc")},a469:function(e,s,t){e.exports=t.p+"img/network-icon.9e6a16d7.svg"},ae73:function(e,s,t){e.exports=t.p+"img/users-icon.499fcd85.svg"},b7aa:function(e,s,t){},cf1e:function(e,s,t){},d8ce:function(e,s,t){},ee2c:function(e,s,t){"use strict";t("d8ce")},fef1:function(e,s,t){e.exports=t.p+"img/source-icon.89759c00.svg"}});
//# sourceMappingURL=app.f3b0e42d.js.map