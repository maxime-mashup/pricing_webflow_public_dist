(function(e){function s(s){for(var a,o,i=s[0],c=s[1],l=s[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(s);while(p.length)p.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,s=0;s<n.length;s++){for(var t=n[s],a=!0,i=1;i<t.length;i++){var c=t[i];0!==r[c]&&(a=!1)}a&&(n.splice(s--,1),e=o(o.s=t[0]))}return e}var a={},r={app:0},n=[];function o(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,s,t){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(1&s&&(e=o(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)o.d(t,a,function(s){return e[s]}.bind(null,a));return t},o.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="https://cdn.jsdelivr.net/gh/maxime-mashup/pricing_webflow_public_dist@main/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=s,i=i.slice();for(var l=0;l<i.length;l++)s(i[l]);var u=c;n.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"07c3":function(e,s,t){},"0fa5":function(e,s,t){"use strict";t("5115")},1192:function(e,s,t){},"21f3":function(e,s,t){"use strict";t("4fa9")},"4a7e":function(e,s,t){},"4fa9":function(e,s,t){},5115:function(e,s,t){},"56d7":function(e,s,t){"use strict";t.r(s);var a=t("2b0e"),r=function(){var e=this,s=e._self._c;return s("main",{staticClass:"container"},[s("section",{attrs:{id:"configurator"}},[s("header",{staticClass:"header"},[s("h1",[e._v("Simulation tarifaire")]),s("p",{staticClass:"subtitle"},[e._v("Estimez votre offre Mashup Web Social")]),s("PeriodSelector",{attrs:{"selected-period":e.state.period},on:{"period-change":e.onPeriodChange}})],1),s("div",{staticClass:"sliders-container"},e._l(e.controls,(function(t){return s("ControlSlider",{key:t.key,attrs:{label:t.label,icon:t.icon,value:e.state[t.key],"scale-name":t.scale,"unique-id":t.key},on:{input:function(s){return e.onValueChange(t.key,s)}}})})),1)]),s("ResultCard",{attrs:{result:e.calculatedResult}})],1)},n=[];const o={BASIC:"basic",ADVANCED:"advanced"},i={mode:o.BASIC},c={MONTHLY:"mensuel",ONE_YEAR:"1an",TWO_YEARS:"2ans"},l={[o.BASIC]:{socialAccounts:10,users:10,sources:10},[o.ADVANCED]:{socialAccounts:1,users:1,sources:1}};const u={social:40,users:20,sources:20},d=200;const p=[{id:"freelance",name:"Freelance",priceMonthly:80,priceYearly:800,maxSocialAccounts:5,maxUsers:1,maxSources:5,moderationIncluded:!1},{id:"starter",name:"Starter",priceMonthly:170,priceYearly:1700,maxSocialAccounts:10,maxUsers:10,maxSources:10,moderationIncluded:!0},{id:"standard",name:"Standard",priceMonthly:270,priceYearly:2700,maxSocialAccounts:60,maxUsers:50,maxSources:60,moderationIncluded:!0},{id:"premium",name:"Premium",priceMonthly:600,priceYearly:6e3,maxSocialAccounts:250,maxUsers:200,maxSources:250,moderationIncluded:!0}],m=p.filter(e=>"freelance"!==e.id);function f(){function e(e){let s=null,t=0,a="/mois",r=!1,n=null,o=null;if(e.period===c.MONTHLY)s=p.find(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources),s||(s=p[p.length-1]),t=s.priceMonthly,a="/mois";else{a="";const i=e.period===c.ONE_YEAR?10:18;e.period===c.ONE_YEAR?(n="Économisez 17%",o="2 mois OFFERTS"):(n="Économisez 25%",o="6 mois OFFERTS");let l=p.findIndex(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources);-1===l&&(l=p.length-1);const m=p[l];if(0===l)s=m,t=m.priceMonthly*i;else{const a=p[l-1],n=m.priceMonthly*i,o=Math.max(0,e.socialAccounts-a.maxSocialAccounts),c=Math.max(0,e.users-a.maxUsers),f=Math.max(0,e.sources-a.maxSources),h=o*u.social+c*u.users+f*u.sources,v=a.priceMonthly*i+h,x="freelance"===a.id&&e.socialAccounts>=m.maxSocialAccounts&&e.users>=m.maxUsers&&e.sources>=m.maxSources;!x&&v<=n-d?(s=a,t=v,r=!0):(s=m,t=n,r=!1)}}const i={socialAccounts:Math.max(s.maxSocialAccounts,e.socialAccounts),users:Math.max(s.maxUsers,e.users),sources:Math.max(s.maxSources,e.sources)},l={social:null,users:null,sources:null};return e.period!==c.MONTHLY&&(r?(e.socialAccounts>s.maxSocialAccounts&&(l.social=` (+${u.social}€/page)`),e.users>s.maxUsers&&(l.users=` (+${u.users}€/user)`),e.sources>s.maxSources&&(l.sources=` (+${u.sources}€/source)`)):(l.social=` (+${u.social}€/page)`,l.users=` (+${u.users}€/user)`,l.sources=` (+${u.sources}€/source)`)),{plan:s,finalPrice:Math.round(t),priceLabel:a,savingsBadge:n,offerText:o,displayValues:i,extraCosts:l,isCustomPlan:r,moderationIncluded:s.moderationIncluded}}return{calculatePlan:e}}function h(){function e(e){const s=m;let t=s.find(s=>s.maxSocialAccounts>=e.socialAccounts&&s.maxUsers>=e.users&&s.maxSources>=e.sources);t||(t=s[s.length-1]);let a=0,r="/mois",n=null,o=null;switch(e.period){case c.MONTHLY:a=t.priceMonthly,r="/mois";break;case c.ONE_YEAR:a=10*t.priceMonthly,r="",n="Économisez 17%",o="2 mois OFFERTS";break;case c.TWO_YEARS:a=9*t.priceMonthly*2,r="",n="Économisez 25%",o="6 mois OFFERTS";break}return{plan:t,finalPrice:Math.round(a),priceLabel:r,savingsBadge:n,offerText:o,displayValues:{socialAccounts:t.maxSocialAccounts,users:t.maxUsers,sources:t.maxSources},extraCosts:{social:null,users:null,sources:null},isCustomPlan:!1,moderationIncluded:t.moderationIncluded}}return{calculatePlan:e}}var v=function(){var e=this,s=e._self._c;return s("div",{staticClass:"control-group"},[s("label",{attrs:{for:e.inputId}},[s("img",{staticClass:"icon",attrs:{src:e.icon,alt:e.label+" icon"}}),e._v(" "+e._s(e.label)+" ")]),s("div",{staticClass:"slider-wrapper"},[s("input",{staticClass:"slider",style:e.sliderStyles,attrs:{id:e.sliderId,type:"range",min:"0",max:"100",step:"0.1"},domProps:{value:e.sliderValue},on:{input:e.onSliderInput}}),s("input",{staticClass:"number-input",attrs:{id:e.inputId,type:"number",min:e.minValue,max:e.maxValue},domProps:{value:e.value},on:{input:e.onInputChange}})])])},x=[];const b={social:[[0,1],[50,20],[75,60],[100,250]],users:[[0,1],[50,20],[75,60],[100,200]],sources:[[0,1],[50,20],[75,60],[100,250]]};function g(e,s){const t=b[s];for(let a=0;a<t.length-1;a++){const[s,r]=t[a],[n,o]=t[a+1];if(e>=s&&e<=n){const t=(e-s)/(n-s);return Math.round(r+t*(o-r))}}return t[t.length-1][1]}function _(e,s){const t=b[s];for(let a=0;a<t.length-1;a++){const[s,r]=t[a],[n,o]=t[a+1];if(e>=r&&e<=o){const t=(e-r)/(o-r);return s+t*(n-s)}}return 100}var y={name:"ControlSlider",props:{label:{type:String,required:!0},icon:{type:String,required:!0},value:{type:Number,required:!0},scaleName:{type:String,required:!0,validator:e=>Object.keys(b).includes(e)},uniqueId:{type:String,default:null}},computed:{scale(){return b[this.scaleName]},minValue(){return this.scale[0][1]},maxValue(){return this.scale[this.scale.length-1][1]},sliderValue(){return _(this.value,this.scaleName)},sliderStyles(){const e=this.sliderValue;return{"--progress-percentage":e+"%"}},sliderId(){return this.uniqueId?`${this.scaleName}-slider-${this.uniqueId}`:this.scaleName+"-slider"},inputId(){return this.uniqueId?`${this.scaleName}-value-${this.uniqueId}`:this.scaleName+"-value"}},methods:{onSliderInput(e){const s=parseFloat(e.target.value),t=g(s,this.scaleName);this.$emit("input",t)},onInputChange(e){let s=parseInt(e.target.value)||0;s<this.minValue&&(s=this.minValue),s>this.maxValue&&(s=this.maxValue),this.$emit("input",s)}}},C=y,S=(t("698e"),t("2877")),A=Object(S["a"])(C,v,x,!1,null,"5f3369e0",null),O=A.exports,M=function(){var e=this,s=e._self._c;return s("div",{staticClass:"period-selector"},e._l(e.periods,(function(t){return s("button",{key:t.value,staticClass:"period-btn",class:{active:e.selectedPeriod===t.value},on:{click:function(s){return e.onPeriodClick(t.value)}}},[e._v(" "+e._s(t.label)+" ")])})),0)},P=[],I={name:"PeriodSelector",props:{selectedPeriod:{type:String,default:c.MONTHLY,validator:e=>Object.values(c).includes(e)}},data(){return{periods:[{value:c.MONTHLY,label:"Mensuel"},{value:c.ONE_YEAR,label:"1 an"},{value:c.TWO_YEARS,label:"2 ans"}]}},methods:{onPeriodClick(e){e!==this.selectedPeriod&&this.$emit("period-change",e)}}},N=I,E=(t("feb3"),Object(S["a"])(N,M,P,!1,null,"2f4b05a0",null)),k=E.exports,j=function(){var e=this,s=e._self._c;return s("aside",{attrs:{id:"result-card"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Votre sélection")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"plan-header"},[s("h2",[e._v(e._s(e.result.plan.name))]),s("div",{staticClass:"offer-container"},[e.result.savingsBadge?s("span",{staticClass:"savings-badge"},[e._v(" "+e._s(e.result.savingsBadge)+" ")]):e._e(),e.result.offerText?s("div",{staticClass:"offer-text"},[e._v(" "+e._s(e.result.offerText)+" ")]):e._e()])]),s("div",{staticClass:"price-display"},[s("span",{staticClass:"price"},[e._v(e._s(e.result.finalPrice)+"€ "),s("sup",[e._v("HT")])]),s("span",{staticClass:"period"},[e._v(" "+e._s(e.result.priceLabel))])]),s("ul",{staticClass:"features-list"},[s("li",[e._v(" Jusqu'à "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.socialAccounts))]),e._v(" pages connectées "),e.result.extraCosts.social?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.social)+" ")]):e._e()]),s("li",[e._v(" Jusqu'à "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.users))]),e._v(" utilisateurs "),e.result.extraCosts.users?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.users)+" ")]):e._e()]),s("li",[e._v(" Poster depuis "),s("span",{staticClass:"feature-value"},[e._v(e._s(e.result.displayValues.sources))]),e._v(" sources "),e.result.extraCosts.sources?s("span",{staticClass:"extra-cost-text"},[e._v(" "+e._s(e.result.extraCosts.sources)+" ")]):e._e()]),s("li",{staticClass:"moderation-feature",class:{"not-included":!e.result.moderationIncluded}},[e._v(" Modération des réseaux ")])]),s("button",{staticClass:"cta-btn",on:{click:e.redirectToSaaS}},[e._v("Choisir ce plan")])])])])},T=[],V={name:"ResultCard",props:{result:{type:Object,required:!0,validator:e=>e&&"object"===typeof e&&e.plan&&"number"===typeof e.finalPrice&&"string"===typeof e.priceLabel&&e.displayValues&&"boolean"===typeof e.moderationIncluded}},methods:{redirectToSaaS(){const e=this.result.plan.id,s="https://saas.mashup-web.com/#/?plan="+e;window.location.href=s}}},w=V,Y=(t("0fa5"),Object(S["a"])(w,j,T,!1,null,"0c7611ca",null)),R=Y.exports,$=t("a469"),q=t.n($),U=t("fef1"),F=t.n(U),L=t("ae73"),B=t.n(L),H={name:"PricingCalculator",components:{PeriodSelector:k,ControlSlider:O,ResultCard:R},props:{mode:{type:String,default:i.mode,validator:e=>Object.values(o).includes(e)}},data(){return{state:{period:c.ONE_YEAR,socialAccounts:10,users:10,sources:10},controls:[{key:"socialAccounts",label:"Nombre de comptes sociaux (pages)",icon:q.a,scale:"social"},{key:"users",label:"Nombre d'utilisateurs",icon:B.a,scale:"users"},{key:"sources",label:"Nombre de sources",icon:F.a,scale:"sources"}]}},computed:{pricingMode(){return this.mode},pricingCalculator(){return this.pricingMode===o.ADVANCED?f():h()},calculatedResult(){return this.pricingCalculator.calculatePlan(this.state)}},methods:{onPeriodChange(e){this.state.period=e},onValueChange(e,s){this.state[e]=s},switchPricingMode(e){if(Object.values(o).includes(e)){const s=l[e];Object.keys(s).forEach(e=>{this.state[e]=s[e]}),this.$emit("mode-change",e)}}},mounted(){const e=l[this.pricingMode];e&&Object.keys(e).forEach(s=>{this.state[s]=e[s]})},watch:{mode:{handler(e){const s=l[e];s&&Object.keys(s).forEach(e=>{this.state[e]=s[e]})},immediate:!1}}},D=H,z=(t("21f3"),Object(S["a"])(D,r,n,!1,null,"9f0240f0",null)),J=z.exports;t("1192"),t("cf1e");a["a"].config.productionTip=!1;const W="basic";new a["a"]({render:e=>e(J,{props:{mode:W}})}).$mount("#app")},"698e":function(e,s,t){"use strict";t("07c3")},a469:function(e,s,t){e.exports=t.p+"img/network-icon.9e6a16d7.svg"},ae73:function(e,s,t){e.exports=t.p+"img/users-icon.499fcd85.svg"},cf1e:function(e,s,t){},feb3:function(e,s,t){"use strict";t("4a7e")},fef1:function(e,s,t){e.exports=t.p+"img/source-icon.89759c00.svg"}});
//# sourceMappingURL=app.08562ef1.js.map